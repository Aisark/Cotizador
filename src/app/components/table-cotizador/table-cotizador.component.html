<div class="table-responsive" *ngIf="cotizacion">
    <table class="table table-shopping" *ngIf="cotizacion.lista_productos.length > 0">

        <!-- #region Cabecera de la tabla-->
        <thead>

            <th>#</th>
            <th>Producto</th>
            <th>Cantidad</th>
            <th>Precio</th>
            <th>Importe</th>
            <th *ngIf="!isPrintable">
                Acciones
            </th>

        </thead>
        <!-- #endregion -->

        <!-- #region Cuerpo de la Tabla-->
        <tbody>
            <tr *ngFor="let item of cotizacion.lista_productos; let i=index" [class.tr-print]="isPrintable">
                <td>{{i+1}}</td>
                <td class="producto_name">{{item.producto.name}}</td>
                <td class="td-input-number">
                    <div class="row">
                        <div class="col col-sm-6">
                            <input #inputCantidad [disabled]="updateList" (blur)="getTotal(inputCantidad, item)" class="form-control" [value]="item.cantidad" type="number" min="1" name="cantidad">
                        </div>
                    </div>
                </td>
                <td>
                    $ {{item | getTypePrecio: tipo_precio}}
                </td>
                <td>
                    $ {{item.importe}}
                </td>
                <td class="text-right">
                    <button [disabled]="updateList" (click)="removeItem(item)" type="button" data-placement="left" title="Remove item" class="btn btn-sm btn-danger">
                            <i class="mdi mdi-close"></i>
                    </button>
                </td>
            </tr>

            <!-- #region Subtotal-->
            <tr [class.tr-print]="isPrintable">
                <td class="td-buttom-5"></td>
                <td class="td-buttom-5"></td>
                <td class="td-buttom-5"></td>
                <td class="text-right td-buttom-5"><strong>Subtotal:</strong></td>
                <td class="td-buttom-5">${{subtotal}}</td>

            </tr>
            <!-- #endregion -->

            <!-- #region Envío-->
            <tr [class.tr-print]="isPrintable">
                <td class="td-buttom-5 td-top-5"></td>
                <td class="td-buttom-5 td-top-5"></td>
                <td class="td-buttom-5 td-top-5"></td>
                <td class="text-right td-buttom-5 td-top-5"><strong>Costo de Envío:</strong></td>
                <ng-container *ngIf="cotizacion.envio_gratis; else elseTemplate">
                    <td class="td-buttom-5 td-top-5">Envío Gratis</td>
                </ng-container>
                <ng-template #elseTemplate>
                    <td class="td-buttom-5 td-top-5">$150</td>
                </ng-template>

            </tr>
            <!-- #endregion -->


            <!-- #region Celda para el Total de Compra-->
            <tr [class.tr-print]="isPrintable">
                <td class=" td-buttom-5 td-top-5"></td>
                <td class=" td-buttom-5 td-top-5"></td>
                <td class=" td-buttom-5 td-top-5"></td>
                <td class="text-right td-buttom-5 td-top-5"><strong>Total:</strong></td>
                <td class=" td-buttom-5 td-top-5" class="">${{cotizacion.totalCompra}}</td>
            </tr>
            <!-- #endregion -->
        </tbody>
        <!-- #endregion -->

    </table>
</div>

<div class="row">
    <div class="col-md-4 offset-md-8">
        <button (click)="showModal()" class="btn btn-success btn-block"><i class="mdi mdi-plus"></i> Agregar Producto</button>
    </div>
</div>

<div class="row" *ngIf="cotizacion">
    <div *ngIf="cotizacion.lista_productos.length > 0" class="col-md-4 offset-md-8" style="margin-top: 20px;">
        <button (click)="saveCotizacion()" class="btn btn-primary btn-block">Actualizar Cotización </button>
    </div>
</div>